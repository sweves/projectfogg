<html ng-app="app">
<body ng-controller="appController">
<style>red {color: red;}</style>
<form enctype="multipart/form-data" name="form" method="post" ng-submit="sendPost()">
  <p ng-repeat="item in upload.required">
    {{item}}&nbsp;&nbsp;<input type="text" name="{{item}}" required /><br/><red>required</red>
  </p>
  <p ng-repeat="item in upload.options">
    {{item}}&nbsp;&nbsp;<input type="text" name="{{item}}" />
  </p>
  <p>
    <input type="file" name="image" id="photo" accept="image/*;capture=camera" required /><br/><red>required</red>
  </p>
  <input type="submit" value="Upload" />
</form>
<pre>{{ results | json }}</pre>

<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.4/angular.min.js"></script>
<script>
angular.module('app', []).controller('appController', ['$scope', '$http', function($scope, $http) {
  $http.get('/json').success(function(e) {
    $scope.upload = e.upload;
  });
  $scope.sendPost = function() {
    var formData = new FormData(document.form);
    $scope.results = undefined;
    $http.post('/upload', formData, {
      headers:{ 'Content-type': undefined },
      transformRequest: null
    })
      .success(function(data, status) {
        $scope.results = data;
      })
      .error(function(data, status) {
        console.warn(data);
      });
  }
}]);

</script>
</body>
</html>